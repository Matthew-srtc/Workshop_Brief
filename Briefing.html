<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기억의 거리 - AI 기능 추가 버전</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* 커스텀 스타일 */
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* 슬라이드 전환 애니메이션 */
        .slide {
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }

        .slide.hidden {
            opacity: 0;
            transform: scale(0.95);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }
        
        /* 프로그레스 바 스타일 */
        #progress-bar {
            transition: width 0.3s ease-out;
        }

        /* 모달 스타일 */
        .modal-overlay {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out;
        }
        
        /* 로딩 스피너 */
        .loader {
            border: 4px solid #f3f3f3;
            border-radius: 50%;
            border-top: 4px solid #3498db;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen p-4 overflow-hidden">

    <!-- 프레젠테이션 컨테이너 -->
    <div id="presentation-container" class="w-full max-w-5xl aspect-[16/9] bg-white rounded-xl shadow-2xl relative overflow-hidden flex flex-col">
        
        <!-- 슬라이드 영역 -->
        <main class="flex-grow relative">
            <!-- 슬라이드 1: 표지 -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center items-center text-center bg-gradient-to-br from-blue-600 to-indigo-800 text-white">
                <h1 class="text-5xl md:text-7xl font-bold tracking-tight">기억의 거리</h1>
                <p class="text-xl md:text-2xl mt-4 opacity-90">AR과 LBS로 시공간을 잇는 체험형 역사문화 플랫폼</p>
                <div class="mt-12 border-t border-white/30 pt-4 text-lg">
                    <p>2025 KOREA LBS 스타트업 챌린지</p>
                    <p class="mt-1">발표자: 조원</p>
                </div>
            </div>

            <!-- 슬라이드 2: 문제 제기 -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">당신의 기억, 도시의 역사는<br>어디에 있나요?</h2>
                <ul class="mt-8 space-y-4 text-lg md:text-xl text-gray-600">
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10003;</span><strong>단절된 역사와 문화:</strong> 텍스트 중심의 정보는 젊은 세대의 흥미를 끌지 못하고, 도시의 역사는 빠르게 잊혀갑니다.</li>
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10003;</span><strong>평면적인 장소 경험:</strong> 우리는 특정 장소에 얽힌 다층적인 시간과 이야기를 놓치고 있습니다.</li>
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10003;</span><strong>개인 기억의 파편화:</strong> 개인의 소중한 추억은 디지털 공간에 흩어져 있을 뿐, 장소와 연결되지 못하고 있습니다.</li>
                </ul>
            </div>

            <!-- 슬라이드 3: 해결 방안 -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">'기억의 거리'는<br>살아있는 디지털 기억 공간입니다.</h2>
                <ul class="mt-8 space-y-4 text-lg md:text-xl text-gray-600">
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10140;</span><strong>AR 기술</strong>로 현재의 공간 위에 과거의 모습을 생생하게 구현합니다.</li>
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10140;</span><strong>LBS 기술</strong>로 특정 위치 기반의 맞춤형 스토리와 정보를 제공합니다.</li>
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10140;</span><strong>사용자 참여</strong>를 통해 개인의 추억과 공공의 역사가 함께 쌓이는 **콘텐츠 생태계**를 구축합니다.</li>
                </ul>
            </div>

            <!-- 슬라이드 4: 핵심 기능 -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">시공간을 넘나드는 새로운 경험</h2>
                <div class="mt-8 grid md:grid-cols-3 gap-6 text-center">
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-blue-600">AR 타임슬립</h3>
                        <p class="mt-2 text-gray-600">스마트폰 카메라로 현재 장소의 과거 모습을 시각적으로 체험</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-blue-600">AR 스토리텔링 투어 ✨</h3>
                        <p class="mt-2 text-gray-600">미션을 수행하며 장소에 얽힌 이야기에 몰입하는 게이미피케이션</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-blue-600">기억 아카이브 (UGC) ✨</h3>
                        <p class="mt-2 text-gray-600">사용자가 직접 사진, 이야기를 기록하고 공유하는 '우리 모두의 박물관'</p>
                    </div>
                </div>
            </div>
            
            <!-- 슬라이드 5: AI 기능 소개 -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">✨ Gemini AI로 더 똑똑해진 기억의 거리</h2>
                <p class="mt-4 text-xl text-gray-600">생성형 AI가 당신의 경험을 더욱 특별하게 만듭니다.</p>
                <div class="mt-8 grid md:grid-cols-2 gap-8">
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <h3 class="font-bold text-xl text-blue-800">나만의 투어 코스 생성</h3>
                        <p class="mt-2 text-gray-700">원하는 테마나 키워드를 입력하면, Gemini AI가 세상에 단 하나뿐인 맞춤형 스토리텔링 투어를 즉석에서 만들어줍니다.</p>
                        <button id="show-tour-modal" class="mt-4 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition">✨ AI 투어 생성 체험하기</button>
                    </div>
                    <div class="bg-green-50 p-6 rounded-lg">
                        <h3 class="font-bold text-xl text-green-800">내 기억을 한 편의 작품으로</h3>
                        <p class="mt-2 text-gray-700">당신이 남긴 소중한 기억의 초안을 바탕으로, Gemini AI가 더욱 감성적이고 아름다운 이야기로 완성해줍니다.</p>
                        <button id="show-memory-modal" class="mt-4 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition">✨ AI 이야기 변환 체험하기</button>
                    </div>
                </div>
            </div>

            <!-- 슬라이드 6: 시장 기회 및 목표 고객 -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">누구를, 어떻게 사로잡을 것인가?</h2>
                <ul class="mt-8 space-y-4 text-lg md:text-xl text-gray-600">
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10003;</span><strong>성장하는 시장:</strong> 체험형 관광 콘텐츠 및 AI 기반 개인화 서비스 시장의 급격한 성장</li>
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10003;</span><strong>핵심 타겟:</strong> 특별하고 의미 있는 경험을 찾는 2030세대 (페르소나: '김서울')</li>
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10003;</span><strong>초기 진입 시장:</strong>
                        <ul class="list-disc list-inside mt-2 pl-4">
                            <li>파일럿 지역: 역사적 자산과 유동인구가 풍부한 <strong>서울 '종로구'</strong></li>
                            <li>협력 대상: 지자체(관광과), 지역 소상공인, 초/중/고 교육기관</li>
                        </ul>
                    </li>
                </ul>
            </div>
            
            <!-- 슬라이드 7: 비즈니스 모델 -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">어떻게 수익을 창출하는가?</h2>
                <div class="mt-8 grid md:grid-cols-3 gap-6">
                    <div>
                        <h3 class="font-bold text-xl text-blue-700">B2C (개인)</h3>
                        <p class="mt-2 text-gray-600">✨AI 투어 생성(유료 옵션), 프리미엄 콘텐츠, UGC 기반 굿즈 판매</p>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-blue-700">B2B/B2G (기업/정부)</h3>
                        <p class="mt-2 text-gray-600">지자체/박물관 대상 'AI 관광 솔루션' 구축, 'AI 현장학습 프로그램' 제공</p>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-blue-700">광고 및 제휴</h3>
                        <p class="mt-2 text-gray-600">위치기반 광고, 지역 소상공인 포인트 제휴</p>
                    </div>
                </div>
            </div>

            <!-- 슬라이드 8: 성장 전략 -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">단계별 성장 계획 (Roadmap)</h2>
                <div class="mt-8 w-full">
                    <div class="relative">
                        <!-- Line -->
                        <div class="absolute left-0 top-4 h-0.5 w-full bg-gray-300"></div>
                        <!-- Steps -->
                        <div class="relative flex justify-between">
                            <div class="text-center w-1/3">
                                <div class="mx-auto h-8 w-8 bg-blue-600 rounded-full text-white flex items-center justify-center">1</div>
                                <h3 class="mt-2 font-bold">Phase 1 (1년 이내)</h3>
                                <p class="text-sm text-gray-600">MVP 및 AI 핵심 기능 검증</p>
                            </div>
                            <div class="text-center w-1/3">
                                <div class="mx-auto h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center">2</div>
                                <h3 class="mt-2 font-bold">Phase 2 (2-3년)</h3>
                                <p class="text-sm text-gray-600">AI 고도화 및 서비스 확장</p>
                            </div>
                            <div class="text-center w-1/3">
                                <div class="mx-auto h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center">3</div>
                                <h3 class="mt-2 font-bold">Phase 3 (4-5년)</h3>
                                <p class="text-sm text-gray-600">글로벌 진출</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 슬라이드 9: 팀 및 비전 -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">우리의 약속과 비전</h2>
                <ul class="mt-8 space-y-4 text-lg md:text-xl text-gray-600">
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10003;</span><strong>대표자 핵심 역량:</strong> 'Language & AI' 융합 전공자로서, 스토리텔링과 기술의 결합을 가장 잘 이해</li>
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10003;</span><strong>팀 빌딩 계획:</strong> 정부지원사업 등을 통해 AR/서버 개발자 및 UI/UX 디자이너 확보 예정</li>
                    <li class="flex items-start"><span class="text-blue-500 mr-3 mt-1">&#10003;</span><strong>비전:</strong> <strong>도시를 거대한 이야기 박물관으로 만들겠습니다.</strong> 사람들의 기억을 연결하여 장소에 새로운 가치를 부여하고, 세상에 없던 경험을 선사하겠습니다.</li>
                </ul>
            </div>

            <!-- 슬라이드 10, 11: Q&A -->
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">Q & A</h2>
                <div class="mt-6 space-y-6 text-lg">
                    <div>
                        <p class="font-bold text-blue-600">Q. 1인 팀인데, 개발 역량은 어떻게 확보할 계획인가요?</p>
                        <p class="mt-1 text-gray-700">A. 팀 빌딩을 최우선 과제로, 정부 기술창업 지원사업과 교내 네트워크를 통해 핵심 팀원을 확보하고, 초기에는 검증된 외주 파트너와의 협력도 고려 중입니다.</p>
                    </div>
                    <div>
                        <p class="font-bold text-blue-600">Q. AI 모델 운영 비용이 부담되지 않을까요?</p>
                        <p class="mt-1 text-gray-700">A. 초기에는 핵심 기능에 한해 API 호출을 최소화하고, B2G/B2B 유료 모델을 통해 운영 비용을 확보할 계획입니다. 이후 사용자 증가에 맞춰 효율적인 모델 서빙 전략을 수립하겠습니다.</p>
                    </div>
                </div>
            </div>
            
            <div class="slide w-full h-full p-12 md:p-16 flex flex-col justify-center hidden">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800">Q & A</h2>
                <div class="mt-6 space-y-6 text-lg">
                    <div>
                        <p class="font-bold text-blue-600">Q. AI가 생성한 정보의 신뢰성은 어떻게 확보하나요?</p>
                        <p class="mt-1 text-gray-700">A. 역사적 사실 기반 투어의 경우, 검증된 데이터를 기반으로 AI가 스토리를 생성하도록 제한(Grounding)하고, 출처를 명확히 표기할 것입니다. 사용자 창작 콘텐츠의 경우, AI가 창의성을 발휘하도록 하되, 유해성 필터를 적용하여 안전한 생태계를 만들겠습니다.</p>
                    </div>
                     <div>
                        <p class="font-bold text-blue-600">Q. 가장 먼저 어떻게 수익을 창출할 계획인가요?</p>
                        <p class="mt-1 text-gray-700">A. 초기에는 안정적인 기반 마련을 위해 B2G/B2B 파일럿 프로젝트에 집중할 것입니다. 예를 들어, '종로구청'과 계약하여 'AI 관광 솔루션'을 구축하는 것이 첫 목표이며, 이를 통해 초기 매출과 성공 레퍼런스를 확보하겠습니다.</p>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- 하단 컨트롤러 -->
        <footer class="bg-gray-800 text-white p-3 flex items-center justify-between">
            <div class="text-sm">기억의 거리 | 2025 KOREA LBS 스타트업 챌린지</div>
            <div class="flex items-center space-x-4">
                <button id="prev-btn" class="p-2 rounded-full hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                <div id="slide-counter" class="text-sm font-medium">1 / 11</div>
                <button id="next-btn" class="p-2 rounded-full hover:bg-gray-700">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>
            </div>
            <div class="w-40">
                 <!-- 프로그레스 바 -->
                 <div class="w-full bg-gray-600 rounded-full h-1.5">
                    <div id="progress-bar" class="bg-blue-500 h-1.5 rounded-full" style="width: 9.09%"></div>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- AI 기능 체험 모달 -->
    <div id="ai-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden">
        <div class="modal-content bg-white rounded-xl shadow-2xl w-full max-w-2xl transform scale-95">
            <div class="p-6 border-b">
                <h3 id="modal-title" class="text-2xl font-bold text-gray-800"></h3>
            </div>
            <div class="p-6">
                <div id="modal-prompt-section">
                    <label id="modal-label" for="ai-prompt" class="block font-medium text-gray-700"></label>
                    <input type="text" id="ai-prompt" class="mt-2 w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div id="modal-memory-section" class="hidden">
                     <label for="ai-memory" class="block font-medium text-gray-700">나의 기억 초안</label>
                     <textarea id="ai-memory" rows="3" class="mt-2 w-full border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500">아빠랑 광화문에 처음 간 날. 날씨가 좋았다. 아빠가 아이스크림을 사줬다.</textarea>
                </div>
                <button id="ai-generate-btn" class="mt-4 w-full text-white font-bold py-2.5 px-4 rounded-lg transition"></button>
            </div>
            <div class="p-6 bg-gray-50">
                <h4 class="font-bold text-gray-800">✨ AI 생성 결과</h4>
                <div id="ai-result" class="mt-2 p-4 bg-white rounded-lg border min-h-[100px] text-gray-600 whitespace-pre-wrap">결과가 여기에 표시됩니다.</div>
                <div id="ai-loader" class="hidden flex items-center justify-center min-h-[100px]">
                    <div class="loader"></div>
                </div>
            </div>
            <div class="p-4 bg-gray-100 text-right">
                <button id="close-modal" class="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300">닫기</button>
            </div>
        </div>
    </div>


    <script>
        // 프레젠테이션 로직
        const slides = document.querySelectorAll('.slide');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const slideCounter = document.getElementById('slide-counter');
        const progressBar = document.getElementById('progress-bar');
        
        let currentSlide = 0;
        const totalSlides = slides.length;

        function updateSlides() {
            slides.forEach((slide, index) => {
                slide.classList.toggle('hidden', index !== currentSlide);
            });
            slideCounter.textContent = `${currentSlide + 1} / ${totalSlides}`;
            const progressPercentage = ((currentSlide + 1) / totalSlides) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === totalSlides - 1;
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                currentSlide++;
                updateSlides();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                updateSlides();
            }
        }

        nextBtn.addEventListener('click', nextSlide);
        prevBtn.addEventListener('click', prevSlide);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            else if (e.key === 'ArrowLeft') prevSlide();
            else if (e.key === 'Escape') closeModal();
        });
        
        // AI 모달 로직
        const aiModal = document.getElementById('ai-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const showTourModalBtn = document.getElementById('show-tour-modal');
        const showMemoryModalBtn = document.getElementById('show-memory-modal');
        
        const modalTitle = document.getElementById('modal-title');
        const modalLabel = document.getElementById('modal-label');
        const aiPromptInput = document.getElementById('ai-prompt');
        const aiGenerateBtn = document.getElementById('ai-generate-btn');
        const aiResult = document.getElementById('ai-result');
        const aiLoader = document.getElementById('ai-loader');

        const promptSection = document.getElementById('modal-prompt-section');
        const memorySection = document.getElementById('modal-memory-section');
        const aiMemoryTextarea = document.getElementById('ai-memory');

        let currentAIType = '';

        function openModal(type) {
            currentAIType = type;
            aiResult.textContent = '버튼을 눌러 AI 생성을 시작하세요.';
            if (type === 'tour') {
                modalTitle.textContent = '✨ 나만의 투어 코스 생성';
                modalLabel.textContent = '원하는 투어 테마나 키워드를 입력하세요.';
                aiPromptInput.value = '경복궁의 숨겨진 비극적인 사랑 이야기';
                aiGenerateBtn.textContent = 'AI 투어 코스 생성하기';
                aiGenerateBtn.className = 'mt-4 w-full bg-blue-600 text-white font-bold py-2.5 px-4 rounded-lg transition hover:bg-blue-700';
                promptSection.classList.remove('hidden');
                memorySection.classList.add('hidden');
            } else if (type === 'memory') {
                modalTitle.textContent = '✨ 내 기억을 한 편의 작품으로';
                aiGenerateBtn.textContent = 'AI 이야기 변환하기';
                aiGenerateBtn.className = 'mt-4 w-full bg-green-600 text-white font-bold py-2.5 px-4 rounded-lg transition hover:bg-green-700';
                promptSection.classList.add('hidden');
                memorySection.classList.remove('hidden');
            }
            aiModal.classList.remove('hidden');
            setTimeout(() => {
                aiModal.querySelector('.modal-overlay').classList.remove('opacity-0');
                aiModal.querySelector('.modal-content').classList.remove('scale-95');
            }, 10);
        }

        function closeModal() {
             aiModal.querySelector('.modal-overlay').classList.add('opacity-0');
             aiModal.querySelector('.modal-content').classList.add('scale-95');
             setTimeout(() => {
                aiModal.classList.add('hidden');
             }, 300);
        }

        async function generateAIContent() {
            aiResult.classList.add('hidden');
            aiLoader.classList.remove('hidden');
            
            let prompt = '';
            let generatedText = '';

            if (currentAIType === 'tour') {
                prompt = `다음 키워드로 한국 서울의 역사적인 장소를 배경으로 한 흥미로운 스토리텔링 투어 코스를 만들어줘: "${aiPromptInput.value}". 방문할 장소, 이동 경로, 각 장소에서의 스토리텔링 내용을 포함해줘.`;
                // This is a mock response for demonstration.
                generatedText = `[AI 생성 투어: 비운의 사랑, 경복궁의 그림자]\n\n1. 시작: 광화문\n   - 이야기: "왕의 눈물을 등지고 떠나야 했던 궁녀, 그녀의 이야기는 이 문에서 시작됩니다..."\n\n2. 경유: 경회루\n   - 이야기: "왕과 궁녀가 몰래 마음을 나누던 연못가, 달빛 아래 맺은 슬픈 언약의 장소입니다."\n\n3. 도착: 아미산 굴뚝\n   - 이야기: "왕비의 질투를 피해 숨어야 했던 그녀의 마지막 흔적이 남아있는 곳. 굴뚝에 새겨진 무늬는 그녀의 눈물을 상징한다고 전해집니다."`;
            } else if (currentAIType === 'memory') {
                prompt = `다음의 짧은 기억을 바탕으로 감성적이고 아름다운 한 편의 이야기로 만들어줘: "${aiMemoryTextarea.value}"`;
                // This is a mock response for demonstration.
                generatedText = `[AI 변환 이야기]\n\n햇살이 유난히 눈부시던 그날, 아빠의 커다란 손을 잡고 처음으로 광화문 앞에 섰습니다. 솜사탕처럼 피어오른 구름 아래, 아빠가 사주신 차가운 아이스크림은 햇살만큼이나 달콤하게 녹아내렸습니다. 그날의 공기, 아빠의 온기, 달콤한 맛은 제 마음속에 영원히 지워지지 않을 따뜻한 풍경으로 남아있습니다.`;
            }

            // --- 실제 Gemini API 호출은 이 부분에 구현됩니다 ---
            // const apiKey = "YOUR_GEMINI_API_KEY";
            // const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            // try {
            //     const response = await fetch(apiUrl, {
            //         method: 'POST',
            //         headers: { 'Content-Type': 'application/json' },
            //         body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            //     });
            //     const data = await response.json();
            //     generatedText = data.candidates[0].content.parts[0].text;
            // } catch (error) {
            //     console.error("Error calling Gemini API:", error);
            //     generatedText = "AI 생성 중 오류가 발생했습니다.";
            // }
            // ----------------------------------------------------

            // API 호출을 시뮬레이션하기 위한 지연
            setTimeout(() => {
                aiResult.textContent = generatedText;
                aiLoader.classList.add('hidden');
                aiResult.classList.remove('hidden');
            }, 2000);
        }

        showTourModalBtn.addEventListener('click', () => openModal('tour'));
        showMemoryModalBtn.addEventListener('click', () => openModal('memory'));
        closeModalBtn.addEventListener('click', closeModal);
        aiGenerateBtn.addEventListener('click', generateAIContent);
        aiModal.addEventListener('click', (e) => {
            if (e.target === aiModal) {
                closeModal();
            }
        });

        // 초기화
        updateSlides();
    </script>

</body>
</html>
